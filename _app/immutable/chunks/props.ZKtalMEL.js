import{H as q,I as A,J as T,K as b,L as w,g,M as H,N as K,O as M,f as d,e as U,u as Y,P as O,Q as C,m as F,s as $,R as j}from"./runtime.ClfCI7Wp.js";import{d as R,e as z,H as B,g as G,i as J,j as x,k as Q,P as D,l as V,m as Z,o as y}from"./disclose-version.DNvZvYDK.js";function re(e,r,i,f=null,p=!1){R&&z();var s=e,l=null,n=null,u=null,t=p?w:0;q(()=>{if(u===(u=!!r()))return;let c=!1;if(R){const m=s.data===B;u===m&&(s=G(),J(s),x(!1),c=!0)}u?(l?A(l):l=T(()=>i(s)),n&&b(n,()=>{n=null})):(n?A(n):f&&(n=T(()=>f(s))),l&&b(l,()=>{l=null})),c&&x(!0)},t),R&&(s=Q)}const W={get(e,r){if(!e.exclude.includes(r))return d(e.version),r in e.special?e.special[r]():e.props[r]},set(e,r,i){return r in e.special||(e.special[r]=X({get[r](){return e.props[r]}},r,D)),e.special[r](i),j(e.version),!0},getOwnPropertyDescriptor(e,r){if(!e.exclude.includes(r)&&r in e.props)return{enumerable:!0,configurable:!0,value:e.props[r]}},has(e,r){return e.exclude.includes(r)?!1:r in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(r=>!e.exclude.includes(r))}};function ae(e,r){return new Proxy({props:e,exclude:r,special:{},version:$(0)},W)}function X(e,r,i,f){var E;var p=(i&V)!==0,s=(i&Z)!==0,l=(i&y)!==0,n=e[r],u=(E=g(e,r))==null?void 0:E.set,t=f,c=!0,m=()=>(l&&c&&(c=!1,t=Y(f)),t);n===void 0&&f!==void 0&&(u&&s&&H(),n=m(),u&&u(n));var _;if(s)_=()=>{var a=e[r];return a===void 0?m():(c=!0,a)};else{var S=(p?O:C)(()=>e[r]);S.f|=K,_=()=>{var a=d(S);return a!==void 0&&(t=void 0),a===void 0?t:a}}if(!(i&D))return _;if(u){var L=e.$$legacy;return function(a,o){return arguments.length>0?((!s||!o||L)&&u(o?_():a),a):_()}}var P=!1,h=F(n),v=O(()=>{var a=_(),o=d(h);return P?(P=!1,o):h.v=a});return p||(v.equals=M),function(a,o){var N=d(v);if(arguments.length>0){const I=o?d(v):a;return v.equals(I)||(P=!0,U(h,I),d(v)),a}return N}}export{re as i,ae as l,X as p};
