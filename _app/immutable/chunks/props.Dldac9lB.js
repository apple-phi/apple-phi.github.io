import{d as L,r as T,e as b,p as A,P as N,H as g,Q as U,R as H,T as Y,g as d,s as z,b as C,U as x,V as F,m as K,h as M,W as V}from"./runtime.BWBH7bGR.js";import{d as R,i as $,H as j,j as y,g as B,k as O,l as G,P as D,x as Q,y as W,z as Z}from"./disclose-version.AgLoxjy1.js";function re(e,r,i,f=null,p=!1){R&&$();var s=e,l=null,n=null,u=null,t=p?N:0;L(()=>{if(u===(u=!!r()))return;let c=!1;if(R){const P=s.data===j;u===P&&(s=y(),B(s),O(!1),c=!0)}u?(l?T(l):l=b(()=>i(s)),n&&A(n,()=>{n=null})):(n?T(n):f&&(n=b(()=>f(s))),l&&A(l,()=>{l=null})),c&&O(!0)},t),R&&(s=G)}const J={get(e,r){if(!e.exclude.includes(r))return d(e.version),r in e.special?e.special[r]():e.props[r]},set(e,r,i){return r in e.special||(e.special[r]=X({get[r](){return e.props[r]}},r,D)),e.special[r](i),V(e.version),!0},getOwnPropertyDescriptor(e,r){if(!e.exclude.includes(r)&&r in e.props)return{enumerable:!0,configurable:!0,value:e.props[r]}},has(e,r){return e.exclude.includes(r)?!1:r in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(r=>!e.exclude.includes(r))}};function ae(e,r){return new Proxy({props:e,exclude:r,special:{},version:M(0)},J)}function X(e,r,i,f){var E;var p=(i&Q)!==0,s=(i&W)!==0,l=(i&Z)!==0,n=e[r],u=(E=g(e,r))==null?void 0:E.set,t=f,c=!0,P=()=>(l&&c&&(c=!1,t=C(f)),t);n===void 0&&f!==void 0&&(u&&s&&U(),n=P(),u&&u(n));var _;if(s)_=()=>{var a=e[r];return a===void 0?P():(c=!0,a)};else{var S=(p?x:F)(()=>e[r]);S.f|=H,_=()=>{var a=d(S);return a!==void 0&&(t=void 0),a===void 0?t:a}}if(!(i&D))return _;if(u){var q=e.$$legacy;return function(a,o){return arguments.length>0?((!s||!o||q)&&u(o?_():a),a):_()}}var h=!1,m=K(n),v=x(()=>{var a=_(),o=d(m);return h?(h=!1,o):m.v=a});return p||(v.equals=Y),function(a,o){var w=d(v);if(arguments.length>0){const I=o?d(v):a;return v.equals(I)||(h=!0,z(m,I),d(v)),a}return w}}export{re as i,ae as l,X as p};
