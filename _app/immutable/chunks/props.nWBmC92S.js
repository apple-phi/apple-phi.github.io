import{k as q,r as A,l as T,p as b,J as D,g as L,K as k,M as x,N as M,f as o,e as U,u as Y,O,P as w,m as C}from"./runtime.DR7JHG5w.js";import{b as E,g as F,H,i as $,d as j,j as p,k as z,P as B,w as G,x as J,y as K}from"./disclose-version.B6s1Vk_w.js";function Q(u,s,f,i=null,m=!1){E&&F();var r=u,t=null,a=null,n=null,l=m?D:0;q(()=>{if(n===(n=!!s()))return;let _=!1;if(E){const P=r.data===H;n===P&&(r=$(),j(r),p(!1),_=!0)}n?(t?A(t):t=T(()=>f(r)),a&&b(a,()=>{a=null})):(a?A(a):i&&(a=T(()=>i(r))),t&&b(t,()=>{t=null})),_&&p(!0)},l),E&&(r=z)}function W(u,s,f,i){var g;var m=(f&G)!==0,r=(f&J)!==0,t=(f&K)!==0,a=u[s],n=(g=L(u,s))==null?void 0:g.set,l=i,_=!0,P=()=>(t&&_&&(_=!1,l=Y(i)),l);a===void 0&&i!==void 0&&(n&&r&&k(),a=P(),n&&n(a));var v;if(r)v=()=>{var e=u[s];return e===void 0?P():(_=!0,e)};else{var R=(m?O:w)(()=>u[s]);R.f|=x,v=()=>{var e=o(R);return e!==void 0&&(l=void 0),e===void 0?l:e}}if(!(f&B))return v;if(n){var y=u.$$legacy;return function(e,d){return arguments.length>0?((!r||!d||y)&&n(d?v():e),e):v()}}var h=!1,S=C(a),c=O(()=>{var e=v(),d=o(S);return h?(h=!1,d):S.v=e});return m||(c.equals=M),function(e,d){var N=o(c);if(arguments.length>0){const I=d?o(c):e;return c.equals(I)||(h=!0,U(S,I),o(c)),e}return N}}export{Q as i,W as p};
