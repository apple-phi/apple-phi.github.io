import{c as y,r as I,d as T,e as b,E as L,A as N,B as C,C as F,D as U,g as o,s as Y,w as k,F as q,G as w,m as x}from"./runtime.BQ8WZnHu.js";import{b as S,g as B,H as G,i as H,d as M,j as D,k as $,P as j,q as z,u as V,v as Z}from"./disclose-version.EaiUMsAl.js";function Q(u,s,f,i=null,m=!1){S&&B();var r=u,t=null,a=null,n=null,l=m?L:0;y(()=>{if(n===(n=!!s()))return;let _=!1;if(S){const P=r.data===G;n===P&&(r=H(),M(r),D(!1),_=!0)}n?(t?I(t):t=T(()=>f(r)),a&&b(a,()=>{a=null})):(a?I(a):i&&(a=T(()=>i(r))),t&&b(t,()=>{t=null})),_&&D(!0)},l),S&&(r=$)}function W(u,s,f,i){var g;var m=(f&z)!==0,r=(f&V)!==0,t=(f&Z)!==0,a=u[s],n=(g=N(u,s))==null?void 0:g.set,l=i,_=!0,P=()=>(t&&_&&(_=!1,l=k(i)),l);a===void 0&&i!==void 0&&(n&&r&&C(),a=P(),n&&n(a));var v;if(r)v=()=>{var e=u[s];return e===void 0?P():(_=!0,e)};else{var R=(m?q:w)(()=>u[s]);R.f|=F,v=()=>{var e=o(R);return e!==void 0&&(l=void 0),e===void 0?l:e}}if(!(f&j))return v;if(n){var O=u.$$legacy;return function(e,d){return arguments.length>0?((!r||!d||O)&&n(d?v():e),e):v()}}var h=!1,E=x(a),c=q(()=>{var e=v(),d=o(E);return h?(h=!1,d):E.v=e});return m||(c.equals=U),function(e,d){var p=o(c);if(arguments.length>0){const A=d?o(c):e;return c.equals(A)||(h=!0,Y(E,A),o(c)),e}return p}}export{Q as i,W as p};
