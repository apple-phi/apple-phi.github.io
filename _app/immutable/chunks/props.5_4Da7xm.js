import{A as w,B as A,C as T,D as b,E as N,g,F as C,L as F,G as H,f as d,e as U,s as Y,u as B,H as x,I as G,J as K,m as M}from"./runtime.D9Iqcx-K.js";import{h as E,d as $,H as j,e as z,g as J,i as D,j as V,P as O,k as Z,l as y,m as Q}from"./disclose-version.DT8GNiPl.js";function re(e,r,i,f=null,p=!1){E&&$();var s=e,l=null,n=null,u=null,t=p?N:0;w(()=>{if(u===(u=!!r()))return;let c=!1;if(E){const m=s.data===j;u===m&&(s=z(),J(s),D(!1),c=!0)}u?(l?A(l):l=T(()=>i(s)),n&&b(n,()=>{n=null})):(n?A(n):f&&(n=T(()=>f(s))),l&&b(l,()=>{l=null})),c&&D(!0)},t),E&&(s=V)}const W={get(e,r){if(!e.exclude.includes(r))return d(e.version),r in e.special?e.special[r]():e.props[r]},set(e,r,i){return r in e.special||(e.special[r]=X({get[r](){return e.props[r]}},r,O)),e.special[r](i),K(e.version),!0},getOwnPropertyDescriptor(e,r){if(!e.exclude.includes(r)&&r in e.props)return{enumerable:!0,configurable:!0,value:e.props[r]}},has(e,r){return e.exclude.includes(r)?!1:r in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(r=>!e.exclude.includes(r))}};function ae(e,r){return new Proxy({props:e,exclude:r,special:{},version:Y(0)},W)}function X(e,r,i,f){var S;var p=(i&Z)!==0,s=(i&y)!==0,l=(i&Q)!==0,n=e[r],u=(S=g(e,r))==null?void 0:S.set,t=f,c=!0,m=()=>(l&&c&&(c=!1,t=B(f)),t);n===void 0&&f!==void 0&&(u&&s&&C(),n=m(),u&&u(n));var _;if(s)_=()=>{var a=e[r];return a===void 0?m():(c=!0,a)};else{var R=(p?x:G)(()=>e[r]);R.f|=F,_=()=>{var a=d(R);return a!==void 0&&(t=void 0),a===void 0?t:a}}if(!(i&O))return _;if(u){var L=e.$$legacy;return function(a,o){return arguments.length>0?((!s||!o||L)&&u(o?_():a),a):_()}}var h=!1,P=M(n),v=x(()=>{var a=_(),o=d(P);return h?(h=!1,o):P.v=a});return p||(v.equals=H),function(a,o){var q=d(v);if(arguments.length>0){const I=o?d(v):a;return v.equals(I)||(h=!0,U(P,I),d(v)),a}return q}}export{re as i,ae as l,X as p};
