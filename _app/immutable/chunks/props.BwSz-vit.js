import{l as L,r as T,p as A,v as b,P as N,g as U,Q as g,R as C,T as Y,f as v,e as B,u as F,U as x,V as K,m as M,s as V,W as $}from"./runtime.CyjBh6z9.js";import{d as R,e as j,n as z,o as G,k as H,p as D,j as Q,P as O,B as W,C as Z,D as y}from"./disclose-version.DcBcTE7C.js";function re(e,r,i,f=null,p=!1){R&&j();var s=e,l=null,a=null,u=null,t=p?N:0;L(()=>{if(u===(u=!!r()))return;let c=!1;if(R){const P=s.data===z;u===P&&(s=G(),H(s),D(!1),c=!0)}u?(l?T(l):l=A(()=>i(s)),a&&b(a,()=>{a=null})):(a?T(a):f&&(a=A(()=>f(s))),l&&b(l,()=>{l=null})),c&&D(!0)},t),R&&(s=Q)}const J={get(e,r){if(!e.exclude.includes(r))return v(e.version),r in e.special?e.special[r]():e.props[r]},set(e,r,i){return r in e.special||(e.special[r]=X({get[r](){return e.props[r]}},r,O)),e.special[r](i),$(e.version),!0},getOwnPropertyDescriptor(e,r){if(!e.exclude.includes(r)&&r in e.props)return{enumerable:!0,configurable:!0,value:e.props[r]}},has(e,r){return e.exclude.includes(r)?!1:r in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(r=>!e.exclude.includes(r))}};function ne(e,r){return new Proxy({props:e,exclude:r,special:{},version:V(0)},J)}function X(e,r,i,f){var E;var p=(i&W)!==0,s=(i&Z)!==0,l=(i&y)!==0,a=e[r],u=(E=U(e,r))==null?void 0:E.set,t=f,c=!0,P=()=>(l&&c&&(c=!1,t=F(f)),t);a===void 0&&f!==void 0&&(u&&s&&g(),a=P(),u&&u(a));var _;if(s)_=()=>{var n=e[r];return n===void 0?P():(c=!0,n)};else{var S=(p?x:K)(()=>e[r]);S.f|=C,_=()=>{var n=v(S);return n!==void 0&&(t=void 0),n===void 0?t:n}}if(!(i&O))return _;if(u){var q=e.$$legacy;return function(n,o){return arguments.length>0?((!s||!o||q)&&u(o?_():n),n):_()}}var m=!1,h=M(a),d=x(()=>{var n=_(),o=v(h);return m?(m=!1,o):h.v=n});return p||(d.equals=Y),function(n,o){var w=v(d);if(arguments.length>0){const I=o?v(d):n;return d.equals(I)||(m=!0,B(h,I),v(d)),n}return w}}export{re as i,ne as l,X as p};
