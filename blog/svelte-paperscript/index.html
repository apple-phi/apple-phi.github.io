<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../../favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link href="../../_app/immutable/assets/0.CppaDn9D.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/svelte-paperscript.CM-YNTQT.css" rel="stylesheet">
		<link rel="modulepreload" href="../../_app/immutable/entry/start.qMNNZIfy.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/CWjcwjaQ.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/BmkWgJGk.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/Cbbrfh8W.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/CYgJF_JY.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/DFX_dcLk.js">
		<link rel="modulepreload" href="../../_app/immutable/entry/app.DKLHvnAp.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/C1FmrZbK.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/DWDdq-1g.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/BybSvRNR.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/DfU251Gv.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/CP1WUAkE.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/0.BLYDpfpu.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/BDTZvtgg.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/Dqzkpz4B.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/MjOL80ah.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/lyPK1xV3.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/4.p9YyMP1R.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/C0wJOTdG.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/ITehuF9p.js"><!--[--><meta data-key="description" name="description" content="99% of linters hate this one weird trick"> <meta property="og:type" content="article"> <meta property="og:title" content="{title} | Lucas Ng"> <meta name="twitter:title" content="{title} | Lucas Ng"> <meta property="og:description" content="99% of linters hate this one weird trick"> <meta name="twitter:description" content="99% of linters hate this one weird trick"><!--]--><title>svelte-paperscript | Lucas Ng</title>
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents"><!--[--><!--[--><!----><main class="flex min-h-screen flex-col justify-between bg-stone-50"><section class="fixed top-0 z-20 w-screen"><nav class="flex w-screen items-stretch bg-stone-50 px-5 py-6 sm:px-8"><div class="whitespace-nowrap"><a href="/"><h1 class="text-md font-display text-orange-700">Lucas Ng</h1></a></div> <ul class="container flex justify-end gap-3 pr-3 sm:gap-6 sm:pr-6 md:gap-12"><!--[--><li><a href="/blog" class="sm:text-md bg-stone-50 p-1 text-sm text-stone-500 hover:opacity-80 focus:opacity-50">Blog</a></li><!--]--></ul></nav></section> <section class="flex grow"><!----><!----><section class="relative flex w-screen p-7 pt-40"><div class="mx-auto space-y-12 sm:w-3/4 lg:w-1/2"><div class="text-left"><h1 class="font-sans text-3xl font-bold sm:text-4xl"><!---->svelte-paperscript<!----></h1> <h2 class="mt-2 inline-block bg-stone-50 text-lg !leading-relaxed text-gray-500"><!---->99% of linters hate this one weird trick<!----></h2> <!--[--><div class="mt-4 flex flex-wrap gap-2"><!--[--><a href="/blog?tag=Svelte" class="inline-block rounded-full border border-gray-400 px-2 py-1 text-sm text-gray-500 transition-transform hover:scale-110">Svelte</a><a href="/blog?tag=500%20LOC" class="inline-block rounded-full border border-gray-400 px-2 py-1 text-sm text-gray-500 transition-transform hover:scale-110">500 LOC</a><!--]--></div><!--]--></div> <div class="sm:prose-md prose prose-sm min-w-full text-pretty pb-20 text-justify md:prose-lg sm:max-w-screen-sm"><p>Ever wanted the ability to write <a href="http://paperjs.org/" rel="nofollow">PaperScript</a> code directly in your Svelte components? No?
Well, too bad. You can do it anyway.</p> <p>It makes linters (and other static analysis tools) very angry.</p> <p>I wrote a Svelte preprocessor to automatically compile your PaperScript code into JavaScript, so you can use it in your Svelte components. This contrasts with the usual Paper.js way of doing it all on the client side. This way, Vite can optimise everything at build time with tree-shaking!</p> <p>Much faster. Much better.</p> <p>Here’s a simple demo:</p> <canvas class="h-1/2 w-full" resize=""></canvas><!----> <div class="text-balance"><pre class="language-svelte"><!----><code class="language-svelte"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>​paperscript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">const</span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Path<span class="token punctuation">.</span>Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        <span class="token literal-property property">size</span><span class="token operator">:</span> view<span class="token punctuation">.</span>size <span class="token operator">/</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token literal-property property">point</span><span class="token operator">:</span> view<span class="token punctuation">.</span>center<span class="token punctuation">,</span>
        <span class="token literal-property property">fillColor</span><span class="token operator">:</span> <span class="token string">'orange'</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">onFrame</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        rect<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>
            view<span class="token punctuation">.</span>center <span class="token operator">+</span> rect<span class="token punctuation">.</span>bounds<span class="token punctuation">.</span>center
        <span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>h-1/2 w-full<span class="token punctuation">"</span></span> <span class="token attr-name">resize</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span></code><!----></pre></div> <p>Wiggle your mouse below to see something more complex:</p> <canvas class="h-1/2 w-full" resize=""></canvas><!----> <p>Isn’t that cool? Check out the package on <a href="https://www.npmjs.com/package/svelte-paperscript" rel="nofollow">npm</a> or the source code on <a href="https://github.com/apple-phi/svelte-paperscript" rel="nofollow">GitHub</a>!</p><!----></div></div></section><!----><!----></section> <section class="z-20 w-screen"><footer class="flex justify-center"><div class="bg-stone-50 p-1 text-sm sm:p-2"><p class="text-xs text-stone-500 opacity-80 md:text-sm">Lucas Ng © 2024 | See the code for my site <a href="https://github.com/apple-phi/apple-phi.github.io" target="_blank" rel="noopener noreferrer"><span class="underline hover:opacity-70 focus:opacity-50">here</span></a></p></div></footer></section></main><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			<script>
				{
					__sveltekit_1jhp9x = {
						base: new URL("../..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("../../_app/immutable/entry/start.qMNNZIfy.js"),
						import("../../_app/immutable/entry/app.DKLHvnAp.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 4],
							data: [null,null],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
